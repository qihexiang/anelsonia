<!DOCTYPE html><html class="default"><head><meta charSet="utf-8"/><meta http-equiv="x-ua-compatible" content="IE=edge"/><title>Freesia - v0.7.5</title><meta name="description" content="Documentation for Freesia - v0.7.5"/><meta name="viewport" content="width=device-width, initial-scale=1"/><link rel="stylesheet" href="assets/style.css"/><link rel="stylesheet" href="assets/highlight.css"/><script async src="assets/search.js" id="search-script"></script></head><body><script>document.body.classList.add(localStorage.getItem("tsd-theme") || "os")</script><header><div class="tsd-page-toolbar"><div class="container"><div class="table-wrap"><div class="table-cell" id="tsd-search" data-base="."><div class="field"><label for="tsd-search-field" class="tsd-widget search no-caption">Search</label><input type="text" id="tsd-search-field"/></div><ul class="results"><li class="state loading">Preparing search index...</li><li class="state failure">The search index is not available</li></ul><a href="index.html" class="title">Freesia - v0.7.5</a></div><div class="table-cell" id="tsd-widgets"><div id="tsd-filter"><a href="#" class="tsd-widget options no-caption" data-toggle="options">Options</a><div class="tsd-filter-group"><div class="tsd-select" id="tsd-filter-visibility"><span class="tsd-select-label">All</span><ul class="tsd-select-list"><li data-value="public">Public</li><li data-value="protected">Public/Protected</li><li data-value="private" class="selected">All</li></ul></div> <input type="checkbox" id="tsd-filter-inherited" checked/><label class="tsd-widget" for="tsd-filter-inherited">Inherited</label><input type="checkbox" id="tsd-filter-externals" checked/><label class="tsd-widget" for="tsd-filter-externals">Externals</label></div></div><a href="#" class="tsd-widget menu no-caption" data-toggle="menu">Menu</a></div></div></div></div><div class="tsd-page-title"><div class="container"><h1>Freesia - v0.7.5</h1></div></div></header><div class="container container-main"><div class="row"><div class="col-8 col-content"><div class="tsd-panel tsd-typography">
<a href="#freesia" id="freesia" style="color: inherit; text-decoration: none;">
  <h1>Freesia</h1>
</a>
<p>Freesia是一个Node.js的Web服务器开发的TypeScript库。</p>

<a href="#安装" id="安装" style="color: inherit; text-decoration: none;">
  <h2>安装</h2>
</a>
<pre><code class="language-sh"><span class="hl-1">npm install freesia</span><br/><span class="hl-1">npm install -D typescript @types/node</span>
</code></pre>

<a href="#response--frequest" id="response--frequest" style="color: inherit; text-decoration: none;">
  <h2>response = f(request)</h2>
</a>
<p>受到React中<code>UI = f(state)</code>的启发，Freesia库的核心观念是<code>response = f(request)</code>。当你使用Freesia库时，整个开发工作将围绕构建<code>f</code>函数展开。</p>
<p>一个最简单的<code>hello, world</code>程序对于Freesia而言应该是这样：</p>
<pre><code class="language-ts"><span class="hl-8">import</span><span class="hl-1"> { </span><span class="hl-5">createServer</span><span class="hl-1"> } </span><span class="hl-8">from</span><span class="hl-1"> </span><span class="hl-4">&quot;http&quot;</span><span class="hl-1">;</span><br/><span class="hl-8">import</span><span class="hl-1"> { </span><span class="hl-5">shimHTTP</span><span class="hl-1">, </span><span class="hl-5">createRes</span><span class="hl-1"> } </span><span class="hl-8">from</span><span class="hl-1"> </span><span class="hl-4">&quot;freesia&quot;</span><span class="hl-1">;</span><br/><span class="hl-3">createServer</span><span class="hl-1">(</span><span class="hl-3">shimHTTP</span><span class="hl-1">(</span><span class="hl-0">async</span><span class="hl-1"> </span><span class="hl-5">req</span><span class="hl-1"> </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">createRes</span><span class="hl-1">(</span><span class="hl-4">&quot;hello, world&quot;</span><span class="hl-1">))).</span><span class="hl-3">listen</span><span class="hl-1">(</span><span class="hl-9">8000</span><span class="hl-1">);</span>
</code></pre>
<p>核心的逻辑是<code>async req =&gt; createRes(&quot;hello, world&quot;)</code>，接受一个req对象作为参数，返回一个Response对象，正如React中传入props而返回JSX一样。</p>

<a href="#响应" id="响应" style="color: inherit; text-decoration: none;">
  <h2>响应</h2>
</a>
<p>从最基础的HTTP传输而言，响应内容值得关心的一般分为3个部分：状态码、响应头和响应主体。一些情况下，可能出现自定义状态消息的需求。对于Freesia的主函数而言，它应该返回一个符合<code>ResponseProps</code>定义的对象（或者<code>Promise&lt;ResponseProps&gt;</code>），它应该包含上述四种内容。例如：</p>
<pre><code class="language-ts"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">response</span><span class="hl-1"> = {</span><br/><span class="hl-1">    </span><span class="hl-5">statusCode:</span><span class="hl-1"> </span><span class="hl-9">200</span><span class="hl-1">, </span><span class="hl-10">// 一切有效的HTTP状态码</span><br/><span class="hl-1">    </span><span class="hl-5">statusMessage:</span><span class="hl-1"> </span><span class="hl-4">&quot;Ok&quot;</span><span class="hl-1">, </span><span class="hl-10">// 状态消息对HTTP/2是无效的，现代客户端有时也并不接受自定义状态消息</span><br/><span class="hl-1">    </span><span class="hl-5">body:</span><span class="hl-1"> </span><span class="hl-4">&quot;hello, world&quot;</span><span class="hl-1">, </span><span class="hl-10">// body可以是一个字符串，Buffer或者可读的Node.js流</span><br/><span class="hl-1">    </span><span class="hl-5">headers:</span><span class="hl-1"> {</span><span class="hl-4">&quot;Content-Type&quot;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-4">&quot;text/plain; charset=UTF-8&quot;</span><span class="hl-1">} </span><span class="hl-10">// headers的key是string，value是string|string[]|number</span><br/><span class="hl-1">}</span>
</code></pre>
<p>除去手动声明之外，Freesia还提供了一个<code>Respond</code>类来帮助创建响应对象。</p>

<a href="#respond类" id="respond类" style="color: inherit; text-decoration: none;">
  <h3>Respond类</h3>
</a>
<p>创建<code>Respond</code>对象的方法有如下三种：</p>
<pre><code class="language-ts"><span class="hl-8">import</span><span class="hl-1"> { </span><span class="hl-5">Respond</span><span class="hl-1">, </span><span class="hl-5">createRes</span><span class="hl-1"> } </span><span class="hl-8">from</span><span class="hl-1"> </span><span class="hl-4">&quot;freesia&quot;</span><span class="hl-1">;</span><br/><span class="hl-10">// new Respond</span><br/><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-3">Respond</span><span class="hl-1">()</span><br/><span class="hl-1">    .</span><span class="hl-3">setBody</span><span class="hl-1">(</span><span class="hl-4">&quot;hello, world&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-3">setHeaders</span><span class="hl-1">([</span><span class="hl-4">&quot;Content-Type&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;text/plain; charset=UTF-8&quot;</span><span class="hl-1">])</span><br/><span class="hl-1">    .</span><span class="hl-3">setHeaders</span><span class="hl-1">([</span><span class="hl-4">&quot;Content-Length&quot;</span><span class="hl-1">, </span><span class="hl-9">12</span><span class="hl-1">]);</span><br/><span class="hl-5">Respond</span><span class="hl-1">.</span><span class="hl-3">create</span><span class="hl-1">(</span><span class="hl-4">&quot;hello, world&quot;</span><span class="hl-1">, {</span><span class="hl-4">&quot;Content-Type&quot;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-4">&quot;text/plain; charset=UTF-8&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;Content-Length&quot;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-9">12</span><span class="hl-1">});</span><br/><span class="hl-3">createRes</span><span class="hl-1">(</span><span class="hl-4">&quot;hello, world&quot;</span><span class="hl-1">, {</span><span class="hl-4">&quot;Content-Type&quot;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-4">&quot;text/plain; charset=UTF-8&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;Content-Length&quot;</span><span class="hl-5">:</span><span class="hl-1"> </span><span class="hl-9">12</span><span class="hl-1">});</span>
</code></pre>
<p>其中，<code>createRes</code>是<code>Respond.create</code>的别名，这两个方法比<code>new Respond()</code>更加简便，提供了多种重载用于一次性建立一个响应对象，参考<a href="https://qihexiang.github.io/freesia/classes/Respond.html#create">API文档</a>。</p>
<p><code>Respond</code>对象包含如下方法：</p>
<ul>
<li>setStatusCode</li>
<li>setStatusMessage</li>
<li>setBody</li>
<li>setHeaders</li>
</ul>
<p>用于设置对象对应的属性，其中前三种方法每次调用会替代掉前一次调用的结果，而<code>setHeaders</code>方法则会在每次调用时将新的响应头合并到之间的结果中，例如上面调用中的两次<code>setHeaders</code>设置的响应头都是有效的。此外，setHeaders还支持多种格式的输入，请参考<a href="https://qihexiang.github.io/freesia/classes/Respond.html#setHeaders">API文档</a>。</p>
<p>Freesia提供了一些函数来配合<code>setHeaders</code>方法的使用，例如：</p>
<pre><code class="language-ts"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">message</span><span class="hl-1"> = </span><span class="hl-4">&quot;hello, world</span><span class="hl-11">\n</span><span class="hl-4">&quot;</span><span class="hl-1">;</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">response</span><span class="hl-1"> = </span><span class="hl-3">createRes</span><span class="hl-1">(</span><span class="hl-9">200</span><span class="hl-1">, </span><span class="hl-5">message</span><span class="hl-1">)</span><br/><span class="hl-1">    .</span><span class="hl-3">setHeaders</span><span class="hl-1">(</span><br/><span class="hl-1">        </span><span class="hl-3">contentType</span><span class="hl-1">(</span><span class="hl-4">&quot;txt&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;UTF-8&quot;</span><span class="hl-1">), </span><br/><span class="hl-1">        </span><span class="hl-3">contentLength</span><span class="hl-1">(</span><span class="hl-5">message</span><span class="hl-1">), </span><br/><span class="hl-1">        </span><span class="hl-3">contentDisposition</span><span class="hl-1">(</span><span class="hl-0">true</span><span class="hl-1">, </span><span class="hl-4">&quot;helloWorld.txt&quot;</span><span class="hl-1">)</span><br/><span class="hl-1">    );</span>
</code></pre>

<a href="#路由" id="路由" style="color: inherit; text-decoration: none;">
  <h2>路由</h2>
</a>

<a href="#闪光弹" id="闪光弹" style="color: inherit; text-decoration: none;">
  <h2>闪光弹</h2>
</a>
<p>由于采取了函数式的风格，需要使用的参数需要通过参数传递的形式逐级传递到要使用的函数中，但是实际情况中会有一些参数在中间若干层的调用中并不被使用，只会在最内部的某个函数中使用，这让中间的函数传递变得麻烦，我们会希望有一种跨越式传值的方法。</p>
<blockquote>
<p>React中也有类似的问题，推荐的解决方案是控制反转，但依然不能避免层层传递的问题（生成的组件依旧需要传递下去），只能减少传递参数的个数；另一种方式是使用上下文来传递参数，它用于在各个组件提供访问和修改某个状态的能力。</p>
</blockquote>
<p>Freesia提供了类似上下文的功能（和请求绑定），称为闪光弹。不同与React的上下文，它之提供访问值而不提供修改值的能力。</p>
<p>用<code>createFlare</code>函数来创建闪光弹，它返回三个函数。</p>
<ul>
<li><code>light</code>：点燃闪光弹，这个函数调用之后，要被传递的值就可以通过<code>observe</code>函数访问了；</li>
<li><code>observe</code>：观测闪光弹，执行这个函数可以得到要传递的值，它必须在<code>light</code>函数之后调用；</li>
<li><code>extinguish</code>：熄灭闪光弹，执行这个函数之后，<code>observe</code>将不能再被使用</li>
</ul>
<pre><code class="language-ts"><span class="hl-10">// 调用次序为：main -&gt; fileRoute -&gt; uploadRoute -&gt; uploadHandler -&gt; uploadService</span><br/><span class="hl-10">// 我们不想逐层传递request对像来获得上传的body，我们在main函数获得body后，将其用</span><br/><span class="hl-10">// main.ts</span><br/><span class="hl-8">export</span><span class="hl-1"> </span><span class="hl-0">const</span><span class="hl-1"> [</span><span class="hl-2">light</span><span class="hl-1">, </span><span class="hl-2">observe</span><span class="hl-1">, </span><span class="hl-2">extinguish</span><span class="hl-1">] = </span><span class="hl-3">createFlare</span><span class="hl-1">&lt;</span><span class="hl-7">Buffer</span><span class="hl-1">&gt;()</span><br/><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">main</span><span class="hl-1"> = </span><span class="hl-0">async</span><span class="hl-1"> </span><span class="hl-5">req</span><span class="hl-1"> </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">body</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-3">rawBody</span><span class="hl-1">(</span><span class="hl-5">req</span><span class="hl-1">);</span><br/><span class="hl-1">    </span><span class="hl-3">light</span><span class="hl-1">(</span><span class="hl-5">body</span><span class="hl-1">); </span><span class="hl-10">// 从此向下的调用可以通过observe函数访问body</span><br/><span class="hl-1">    ...</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">res</span><span class="hl-1"> = </span><span class="hl-3">fileRoute</span><span class="hl-1">(); </span><span class="hl-10">// 不需要传递body</span><br/><span class="hl-1">    ...</span><br/><span class="hl-1">    </span><span class="hl-3">extinguish</span><span class="hl-1">(); </span><span class="hl-10">// 从此向下的调用不能再通过observe访问body</span><br/><span class="hl-1">    </span><span class="hl-8">return</span><span class="hl-1"> </span><span class="hl-5">res</span><br/><span class="hl-1">}</span><br/><br/><span class="hl-10">// service/fileUpload.ts</span><br/><span class="hl-8">import</span><span class="hl-1"> {</span><span class="hl-5">observe</span><span class="hl-1">} </span><span class="hl-8">from</span><span class="hl-1"> </span><span class="hl-4">&quot;../main&quot;</span><span class="hl-1">;</span><br/><span class="hl-8">import</span><span class="hl-1"> {</span><span class="hl-5">writeFile</span><span class="hl-1">} </span><span class="hl-8">from</span><span class="hl-1"> </span><span class="hl-4">&quot;fs/promises&quot;</span><span class="hl-1">;</span><br/><br/><span class="hl-8">export</span><span class="hl-1"> </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">uploadService</span><span class="hl-1"> = (</span><span class="hl-5">filepath</span><span class="hl-1">: </span><span class="hl-7">string</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">    </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">body</span><span class="hl-1"> = </span><span class="hl-3">observe</span><span class="hl-1">(); </span><span class="hl-10">// 获得body</span><br/><span class="hl-1">    </span><span class="hl-8">return</span><span class="hl-1"> </span><span class="hl-3">writeFile</span><span class="hl-1">(</span><span class="hl-5">filepath</span><span class="hl-1">, </span><span class="hl-5">body</span><span class="hl-1">)</span><br/><span class="hl-1">}</span>
</code></pre>
<blockquote>
<p>需要注意的以下几点：</p>
<ul>
<li><code>createFlare</code>不是完全独立的函数，它返回的三个函数都只能在<code>shimHTTP</code>的直接或间接调用中执行，否则会抛出错误</li>
<li>静态分析时<code>light</code>，<code>observe</code>和<code>extinguish</code>并不能判断要获取的值是否处于有效期，因此这三个函数会在不符合执行条件的情况下抛出错误。（而不是返回<code>undefined</code>或<code>null</code>）</li>
<li><code>extinguish</code>函数不是必须执行的，<code>createFlare</code>内部使用的是<code>WeakMap</code>实现的，不必担心内存溢出的问题。</li>
</ul>
</blockquote>

<a href="#包装器" id="包装器" style="color: inherit; text-decoration: none;">
  <h2>包装器</h2>
</a>
<p>开发者可能会希望在一个函数执行前后分别执行一些代码，这些代码可能是可服复用的，也有可能只是希望这些逻辑被排除在核心逻辑之外，出于这样的需求，Freesia提供了两个包装器创建函数：<code>createEffect</code>和<code>createWrapper</code>。</p>

<a href="#副作用包装" id="副作用包装" style="color: inherit; text-decoration: none;">
  <h3>副作用包装</h3>
</a>
<p>如果我们的包装逻辑并不修改原始函数的输入输出，可以使用副作用包装器<code>createEffect</code>。例如，要测量响应逻辑耗时：</p>
<pre><code class="language-ts"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">main</span><span class="hl-1"> = </span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-5">req</span><span class="hl-1">: </span><span class="hl-7">HttpReq</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">createRes</span><span class="hl-1">();</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">timeMeasure</span><span class="hl-1"> = </span><span class="hl-3">createEffect</span><span class="hl-1">&lt;</span><span class="hl-0">typeof</span><span class="hl-1"> </span><span class="hl-5">main</span><span class="hl-1">&gt;(</span><br/><span class="hl-1">    </span><span class="hl-5">req</span><span class="hl-1"> </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">start</span><span class="hl-1"> = </span><span class="hl-0">new</span><span class="hl-1"> </span><span class="hl-7">Date</span><span class="hl-1">();</span><br/><span class="hl-1">        </span><span class="hl-8">return</span><span class="hl-1"> </span><span class="hl-5">res</span><span class="hl-1"> </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">console</span><span class="hl-1">.</span><span class="hl-3">log</span><span class="hl-1">(</span><span class="hl-4">`Use </span><span class="hl-0">${</span><span class="hl-0">new</span><span class="hl-6"> </span><span class="hl-7">Date</span><span class="hl-6">().</span><span class="hl-3">getTime</span><span class="hl-6">() </span><span class="hl-1">-</span><span class="hl-6"> </span><span class="hl-5">start</span><span class="hl-6">.</span><span class="hl-3">getTime</span><span class="hl-6">()</span><span class="hl-0">}</span><span class="hl-4">ms`</span><span class="hl-1">)</span><br/><span class="hl-1">        }</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">)</span><br/><span class="hl-8">export</span><span class="hl-1"> </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">mainWithTimeMeasure</span><span class="hl-1"> = </span><span class="hl-3">timeMeasure</span><span class="hl-1">(</span><span class="hl-5">main</span><span class="hl-1">)</span>
</code></pre>

<a href="#函数包装" id="函数包装" style="color: inherit; text-decoration: none;">
  <h3>函数包装</h3>
</a>
<p>另一种情况下，我们可能会使用外部逻辑修改原始函数的输入输出，甚至改变参数的输入类型，例如：</p>
<pre><code class="language-ts"><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-3">main</span><span class="hl-1"> = </span><span class="hl-0">async</span><span class="hl-1"> (</span><span class="hl-5">req</span><span class="hl-1">: </span><span class="hl-7">HttpReq</span><span class="hl-1">, </span><span class="hl-5">body</span><span class="hl-1">: </span><span class="hl-7">Buffer</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-3">createRes</span><span class="hl-1">();</span><br/><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">bodyParser</span><span class="hl-1"> = </span><span class="hl-3">createWrapper</span><span class="hl-1">&lt;(</span><span class="hl-5">req</span><span class="hl-1">: </span><span class="hl-7">HttpReq</span><span class="hl-1">) </span><span class="hl-0">=&gt;</span><span class="hl-1"> </span><span class="hl-7">AsyncResponse</span><span class="hl-1">, </span><span class="hl-0">typeof</span><span class="hl-1"> </span><span class="hl-5">main</span><span class="hl-1">&gt;(</span><br/><span class="hl-1">    </span><span class="hl-0">async</span><span class="hl-1"> </span><span class="hl-5">req</span><span class="hl-1"> </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">        </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">body</span><span class="hl-1"> = </span><span class="hl-8">await</span><span class="hl-1"> </span><span class="hl-3">rawBody</span><span class="hl-1">(</span><span class="hl-5">req</span><span class="hl-1">);</span><br/><span class="hl-1">        </span><span class="hl-8">return</span><span class="hl-1"> [[</span><span class="hl-5">req</span><span class="hl-1">, </span><span class="hl-5">body</span><span class="hl-1">], </span><span class="hl-5">res</span><span class="hl-1"> </span><span class="hl-0">=&gt;</span><span class="hl-1"> {</span><br/><span class="hl-1">            </span><span class="hl-5">res</span><span class="hl-1">.</span><span class="hl-3">setHeaders</span><span class="hl-1">([</span><span class="hl-4">&quot;Keep-Alive&quot;</span><span class="hl-1">, </span><span class="hl-4">&quot;timeout=10&quot;</span><span class="hl-1">]);</span><br/><span class="hl-1">            </span><span class="hl-8">return</span><span class="hl-1"> </span><span class="hl-5">res</span><br/><span class="hl-1">        }]</span><br/><span class="hl-1">    }</span><br/><span class="hl-1">)</span><br/><span class="hl-8">export</span><span class="hl-1"> </span><span class="hl-0">const</span><span class="hl-1"> </span><span class="hl-2">withBodyParser</span><span class="hl-1"> = </span><span class="hl-3">bodyParser</span><span class="hl-1">(</span><span class="hl-5">main</span><span class="hl-1">)</span>
</code></pre>
</div></div><div class="col-4 col-menu menu-sticky-wrap menu-highlight"><nav class="tsd-navigation primary"><ul><li class="current"><a href="modules.html">Exports</a></li></ul></nav><nav class="tsd-navigation secondary menu-sticky"><ul><li class="tsd-kind-interface"><a href="interfaces/ResponseProps.html" class="tsd-kind-icon">Response<wbr/>Props</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ResponseBody" class="tsd-kind-icon">Response<wbr/>Body</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AsyncResponse" class="tsd-kind-icon">Async<wbr/>Response</a></li><li class="tsd-kind-class"><a href="classes/Respond.html" class="tsd-kind-icon">Respond</a></li><li class="tsd-kind-function"><a href="modules.html#createRes" class="tsd-kind-icon">create<wbr/>Res</a></li><li class="tsd-kind-type-alias"><a href="modules.html#HeaderValue" class="tsd-kind-icon">Header<wbr/>Value</a></li><li class="tsd-kind-type-alias"><a href="modules.html#HeaderObject" class="tsd-kind-icon">Header<wbr/>Object</a></li><li class="tsd-kind-type-alias"><a href="modules.html#HeaderArray" class="tsd-kind-icon">Header<wbr/>Array</a></li><li class="tsd-kind-type-alias"><a href="modules.html#HeaderCollection" class="tsd-kind-icon">Header<wbr/>Collection</a></li><li class="tsd-kind-variable"><a href="modules.html#infoMessage" class="tsd-kind-icon">info<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#infoStatusCode" class="tsd-kind-icon">info<wbr/>Status<wbr/>Code</a></li><li class="tsd-kind-variable"><a href="modules.html#successMessage" class="tsd-kind-icon">success<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#successStatusCode" class="tsd-kind-icon">success<wbr/>Status<wbr/>Code</a></li><li class="tsd-kind-variable"><a href="modules.html#redirectMessage" class="tsd-kind-icon">redirect<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#redirectStatusCode" class="tsd-kind-icon">redirect<wbr/>Status<wbr/>Code</a></li><li class="tsd-kind-variable"><a href="modules.html#clientErrorMessage" class="tsd-kind-icon">client<wbr/>Error<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#clientErrorCode" class="tsd-kind-icon">client<wbr/>Error<wbr/>Code</a></li><li class="tsd-kind-variable"><a href="modules.html#serverErrorMessage" class="tsd-kind-icon">server<wbr/>Error<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#serverErrorCode" class="tsd-kind-icon">server<wbr/>Error<wbr/>Code</a></li><li class="tsd-kind-variable"><a href="modules.html#statusMessage" class="tsd-kind-icon">status<wbr/>Message</a></li><li class="tsd-kind-type-alias"><a href="modules.html#validHttpStatusCode" class="tsd-kind-icon">valid<wbr/>Http<wbr/>Status<wbr/>Code</a></li><li class="tsd-kind-type-alias"><a href="modules.html#HttpReq" class="tsd-kind-icon">Http<wbr/>Req</a></li><li class="tsd-kind-type-alias"><a href="modules.html#HttpRes" class="tsd-kind-icon">Http<wbr/>Res</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ReqHandler" class="tsd-kind-icon">Req<wbr/>Handler</a></li><li class="tsd-kind-type-alias"><a href="modules.html#EntryPoint" class="tsd-kind-icon">Entry<wbr/>Point</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#createFlare" class="tsd-kind-icon">create<wbr/>Flare</a></li><li class="tsd-kind-function"><a href="modules.html#shimHTTP" class="tsd-kind-icon">shimHTTP</a></li><li class="tsd-kind-type-alias"><a href="modules.html#KoaEntryPoint" class="tsd-kind-icon">Koa<wbr/>Entry<wbr/>Point</a></li><li class="tsd-kind-function"><a href="modules.html#shimKoa" class="tsd-kind-icon">shim<wbr/>Koa</a></li><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/ConditionInit.html" class="tsd-kind-icon">Condition<wbr/>Init</a></li><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/Condition.html" class="tsd-kind-icon">Condition</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#condition" class="tsd-kind-icon">condition</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#RouteHandler" class="tsd-kind-icon">Route<wbr/>Handler</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#Route" class="tsd-kind-icon">Route</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#ExtendRouteHandler" class="tsd-kind-icon">Extend<wbr/>Route<wbr/>Handler</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#ExtendRoute" class="tsd-kind-icon">Extend<wbr/>Route</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#createRoute" class="tsd-kind-icon">create<wbr/>Route</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#createExtendRoute" class="tsd-kind-icon">create<wbr/>Extend<wbr/>Route</a></li><li class="tsd-kind-type-alias"><a href="modules.html#RouteChainInit" class="tsd-kind-icon">Route<wbr/>Chain<wbr/>Init</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#RouteChainAdder" class="tsd-kind-icon">Route<wbr/>Chain<wbr/>Adder</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#RouteChainFallback" class="tsd-kind-icon">Route<wbr/>Chain<wbr/>Fallback</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#RouteChain" class="tsd-kind-icon">Route<wbr/>Chain</a></li><li class="tsd-kind-type-alias"><a href="modules.html#ExtendRouteChainInit" class="tsd-kind-icon">Extend<wbr/>Route<wbr/>Chain<wbr/>Init</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#ExtendRouteChainAdder" class="tsd-kind-icon">Extend<wbr/>Route<wbr/>Chain<wbr/>Adder</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#ExtendRouteChainFallback" class="tsd-kind-icon">Extend<wbr/>Route<wbr/>Chain<wbr/>Fallback</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#ExtendRouteChain" class="tsd-kind-icon">Extend<wbr/>Route<wbr/>Chain</a></li><li class="tsd-kind-function"><a href="modules.html#createSwRt" class="tsd-kind-icon">create<wbr/>Sw<wbr/>Rt</a></li><li class="tsd-kind-function"><a href="modules.html#createExtendSwRt" class="tsd-kind-icon">create<wbr/>Extend<wbr/>Sw<wbr/>Rt</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#createSwitcher" class="tsd-kind-icon">create<wbr/>Switcher</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#createExtendSwitcher" class="tsd-kind-icon">create<wbr/>Extend<wbr/>Switcher</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#ParamFlag" class="tsd-kind-icon">Param<wbr/>Flag</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#RoutePattern" class="tsd-kind-icon">Route<wbr/>Pattern</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#RouteParam" class="tsd-kind-icon">Route<wbr/>Param</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#MaybePromise" class="tsd-kind-icon">Maybe<wbr/>Promise</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#TPromise" class="tsd-kind-icon">TPromise</a></li><li class="tsd-kind-type-alias"><a href="modules.html#EncodingType" class="tsd-kind-icon">Encoding<wbr/>Type</a></li><li class="tsd-kind-function"><a href="modules.html#contentType" class="tsd-kind-icon">content<wbr/>Type</a></li><li class="tsd-kind-function"><a href="modules.html#contentLength" class="tsd-kind-icon">content<wbr/>Length</a></li><li class="tsd-kind-function"><a href="modules.html#contentDisposition" class="tsd-kind-icon">content<wbr/>Disposition</a></li><li class="tsd-kind-function"><a href="modules.html#contentEncoding" class="tsd-kind-icon">content<wbr/>Encoding</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#contentLanguage" class="tsd-kind-icon">content<wbr/>Language</a></li><li class="tsd-kind-function"><a href="modules.html#serverHeader" class="tsd-kind-icon">server<wbr/>Header</a></li><li class="tsd-kind-function"><a href="modules.html#location" class="tsd-kind-icon">location</a></li><li class="tsd-kind-function"><a href="modules.html#acceptRanges" class="tsd-kind-icon">accept<wbr/>Ranges</a></li><li class="tsd-kind-interface tsd-has-type-parameter"><a href="interfaces/Composer.html" class="tsd-kind-icon">Composer</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#composeFn" class="tsd-kind-icon">compose<wbr/>Fn</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#createEffect" class="tsd-kind-icon">create<wbr/>Effect</a></li><li class="tsd-kind-type-alias"><a href="modules.html#Fn" class="tsd-kind-icon">Fn</a></li><li class="tsd-kind-type-alias"><a href="modules.html#AsyncFn" class="tsd-kind-icon">Async<wbr/>Fn</a></li><li class="tsd-kind-type-alias tsd-has-type-parameter"><a href="modules.html#BeforeHookArray" class="tsd-kind-icon">Before<wbr/>Hook<wbr/>Array</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#echo" class="tsd-kind-icon">echo</a></li><li class="tsd-kind-function tsd-has-type-parameter"><a href="modules.html#createWrapper" class="tsd-kind-icon">create<wbr/>Wrapper</a></li></ul></nav></div></div></div><footer class="with-border-bottom"><div class="container"><h2>Legend</h2><div class="tsd-legend-group"><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-interface"><span class="tsd-kind-icon">Property</span></li><li class="tsd-kind-method tsd-parent-kind-interface"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-constructor tsd-parent-kind-class"><span class="tsd-kind-icon">Constructor</span></li><li class="tsd-kind-method tsd-parent-kind-class"><span class="tsd-kind-icon">Method</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-property tsd-parent-kind-class tsd-is-private"><span class="tsd-kind-icon">Private property</span></li></ul><ul class="tsd-legend"><li class="tsd-kind-method tsd-parent-kind-class tsd-is-static"><span class="tsd-kind-icon">Static method</span></li></ul></div><h2>Settings</h2><p>Theme <select id="theme"><option value="os">OS</option><option value="light">Light</option><option value="dark">Dark</option></select></p></div></footer><div class="container tsd-generator"><p>Generated using <a href="https://typedoc.org/" target="_blank">TypeDoc</a></p></div><div class="overlay"></div><script src="assets/main.js"></script></body></html>